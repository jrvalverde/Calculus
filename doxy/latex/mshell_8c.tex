\section{mshell.c File Reference}
\label{mshell_8c}\index{mshell.c@{mshell.c}}
{\tt \#include $<$stdio.h$>$}\par
{\tt \#include $<$stdlib.h$>$}\par
{\tt \#include $<$string.h$>$}\par
{\tt \#include \char`\"{}mshell.h\char`\"{}}\par


Include dependency graph for mshell.c:\subsection*{Data Structures}
\begin{CompactItemize}
\item 
struct {\bf memnod}
\end{CompactItemize}
\subsection*{Defines}
\begin{CompactItemize}
\item 
\#define {\bf \_\-\_\-MSHELL\_\-\_\-}
\item 
\#define {\bf MEMTAG}\ 0xa55a
\item 
\#define {\bf ALIGN\_\-SIZE}\ sizeof(double)
\item 
\#define {\bf HDR\_\-SIZE}\ sizeof({\bf MEMHDR})
\item 
\#define {\bf RESERVE\_\-SIZE}
\item 
\#define {\bf CLIENT\_\-2\_\-HDR}(a)\ (({\bf MEMHDR} $\ast$)  (((char $\ast$) (a)) - RESERVE\_\-SIZE))
\item 
\#define {\bf HDR\_\-2\_\-CLIENT}(a)\ ((void $\ast$)  (((char $\ast$) (a)) + RESERVE\_\-SIZE))
\item 
\#define {\bf Mem\_\-Tag\_\-Err}(a)\ mem\_\-tag\_\-err(a, fil, lin)
\end{CompactItemize}
\subsection*{Typedefs}
\begin{CompactItemize}
\item 
typedef {\bf memnod} {\bf MEMHDR}
\end{CompactItemize}
\subsection*{Functions}
\begin{CompactItemize}
\item 
void {\bf mem\_\-tag\_\-err} (void $\ast$, char $\ast$, int)
\item 
void {\bf mem\_\-list\_\-add} ({\bf MEMHDR} $\ast$)
\item 
void {\bf mem\_\-list\_\-delete} ({\bf MEMHDR} $\ast$)
\item 
void $\ast$ {\bf mem\_\-alloc} (size\_\-t size, char $\ast$fil, int lin)
\item 
void $\ast$ {\bf mem\_\-realloc} (void $\ast$ptr, size\_\-t size, char $\ast$fil, int lin)
\item 
char $\ast$ {\bf mem\_\-strdup} (char $\ast$str, char $\ast$fil, int lin)
\item 
void {\bf mem\_\-free} (void $\ast$ptr, char $\ast$fil, int lin)
\item 
unsigned long {\bf Mem\_\-Used} (void)
\item 
void {\bf Mem\_\-Display} (FILE $\ast$fp)
\end{CompactItemize}
\subsection*{Variables}
\begin{CompactItemize}
\item 
unsigned long {\bf mem\_\-size} = 0
\item 
{\bf MEMHDR} $\ast$ {\bf memlist} = NULL
\end{CompactItemize}


\subsection{Define Documentation}
\index{mshell.c@{mshell.c}!__MSHELL__@{\_\-\_\-MSHELL\_\-\_\-}}
\index{__MSHELL__@{\_\-\_\-MSHELL\_\-\_\-}!mshell.c@{mshell.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}\#define \_\-\_\-MSHELL\_\-\_\-}\label{mshell_8c_a0}




Definition at line 32 of file mshell.c.\index{mshell.c@{mshell.c}!ALIGN_SIZE@{ALIGN\_\-SIZE}}
\index{ALIGN_SIZE@{ALIGN\_\-SIZE}!mshell.c@{mshell.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}\#define ALIGN\_\-SIZE\ sizeof(double)}\label{mshell_8c_a2}




Definition at line 64 of file mshell.c.\index{mshell.c@{mshell.c}!CLIENT_2_HDR@{CLIENT\_\-2\_\-HDR}}
\index{CLIENT_2_HDR@{CLIENT\_\-2\_\-HDR}!mshell.c@{mshell.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}\#define CLIENT\_\-2\_\-HDR(a)\ (({\bf MEMHDR} $\ast$)  (((char $\ast$) (a)) - RESERVE\_\-SIZE))}\label{mshell_8c_a5}




Definition at line 73 of file mshell.c.

Referenced by mem\_\-free(), and mem\_\-realloc().\index{mshell.c@{mshell.c}!HDR_2_CLIENT@{HDR\_\-2\_\-CLIENT}}
\index{HDR_2_CLIENT@{HDR\_\-2\_\-CLIENT}!mshell.c@{mshell.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}\#define HDR\_\-2\_\-CLIENT(a)\ ((void $\ast$)  (((char $\ast$) (a)) + RESERVE\_\-SIZE))}\label{mshell_8c_a6}




Definition at line 74 of file mshell.c.

Referenced by mem\_\-alloc(), and mem\_\-realloc().\index{mshell.c@{mshell.c}!HDR_SIZE@{HDR\_\-SIZE}}
\index{HDR_SIZE@{HDR\_\-SIZE}!mshell.c@{mshell.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}\#define HDR\_\-SIZE\ sizeof({\bf MEMHDR})}\label{mshell_8c_a3}




Definition at line 66 of file mshell.c.\index{mshell.c@{mshell.c}!Mem_Tag_Err@{Mem\_\-Tag\_\-Err}}
\index{Mem_Tag_Err@{Mem\_\-Tag\_\-Err}!mshell.c@{mshell.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}\#define Mem\_\-Tag\_\-Err(a)\ mem\_\-tag\_\-err(a, fil, lin)}\label{mshell_8c_a7}




Definition at line 88 of file mshell.c.

Referenced by mem\_\-free(), and mem\_\-realloc().\index{mshell.c@{mshell.c}!MEMTAG@{MEMTAG}}
\index{MEMTAG@{MEMTAG}!mshell.c@{mshell.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}\#define MEMTAG\ 0xa55a}\label{mshell_8c_a1}




Definition at line 41 of file mshell.c.

Referenced by mem\_\-alloc(), Mem\_\-Display(), mem\_\-free(), and mem\_\-realloc().\index{mshell.c@{mshell.c}!RESERVE_SIZE@{RESERVE\_\-SIZE}}
\index{RESERVE_SIZE@{RESERVE\_\-SIZE}!mshell.c@{mshell.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}\#define RESERVE\_\-SIZE}\label{mshell_8c_a4}


{\bf Value:}

\footnotesize\begin{verbatim}(((HDR_SIZE + (ALIGN_SIZE-1)) / ALIGN_SIZE) \
* ALIGN_SIZE)\end{verbatim}\normalsize 


Definition at line 67 of file mshell.c.

Referenced by mem\_\-alloc(), and mem\_\-realloc().

\subsection{Typedef Documentation}
\index{mshell.c@{mshell.c}!MEMHDR@{MEMHDR}}
\index{MEMHDR@{MEMHDR}!mshell.c@{mshell.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}typedef struct {\bf memnod}  MEMHDR}\label{mshell_8c_a8}




\subsection{Function Documentation}
\index{mshell.c@{mshell.c}!mem_alloc@{mem\_\-alloc}}
\index{mem_alloc@{mem\_\-alloc}!mshell.c@{mshell.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}void$\ast$ mem\_\-alloc (size\_\-t {\em size}, char $\ast$ {\em fil}, int {\em lin})}\label{mshell_8c_a14}




Definition at line 112 of file mshell.c.

References calloc, HDR\_\-2\_\-CLIENT, mem\_\-list\_\-add(), mem\_\-size, MEM\_\-WHERE, MEMTAG, memnod::mh\_\-file, memnod::mh\_\-line, memnod::mh\_\-size, memnod::mh\_\-tag, and RESERVE\_\-SIZE.

Referenced by mem\_\-strdup().\index{mshell.c@{mshell.c}!Mem_Display@{Mem\_\-Display}}
\index{Mem_Display@{Mem\_\-Display}!mshell.c@{mshell.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}void Mem\_\-Display (FILE $\ast$ {\em fp})}\label{mshell_8c_a19}




Definition at line 364 of file mshell.c.

References mem\_\-size, MEMTAG, memnod::mh\_\-file, memnod::mh\_\-line, memnod::mh\_\-next, memnod::mh\_\-size, and memnod::mh\_\-tag.

Referenced by mem\_\-list\_\-add(), mem\_\-list\_\-delete(), and mem\_\-tag\_\-err().\index{mshell.c@{mshell.c}!mem_free@{mem\_\-free}}
\index{mem_free@{mem\_\-free}!mshell.c@{mshell.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}void mem\_\-free (void $\ast$ {\em ptr}, char $\ast$ {\em fil}, int {\em lin})}\label{mshell_8c_a17}




Definition at line 286 of file mshell.c.

References CLIENT\_\-2\_\-HDR, free, mem\_\-list\_\-delete(), mem\_\-size, Mem\_\-Tag\_\-Err, MEM\_\-WHERE, MEMTAG, memnod::mh\_\-size, and memnod::mh\_\-tag.\index{mshell.c@{mshell.c}!mem_list_add@{mem\_\-list\_\-add}}
\index{mem_list_add@{mem\_\-list\_\-add}!mshell.c@{mshell.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}void mem\_\-list\_\-add ({\bf MEMHDR} $\ast$)\hspace{0.3cm}{\tt  [static]}}\label{mshell_8c_a12}




Definition at line 408 of file mshell.c.

References Mem\_\-Display(), memnod::mh\_\-next, and memnod::mh\_\-prev.

Referenced by mem\_\-alloc(), and mem\_\-realloc().\index{mshell.c@{mshell.c}!mem_list_delete@{mem\_\-list\_\-delete}}
\index{mem_list_delete@{mem\_\-list\_\-delete}!mshell.c@{mshell.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}void mem\_\-list\_\-delete ({\bf MEMHDR} $\ast$)\hspace{0.3cm}{\tt  [static]}}\label{mshell_8c_a13}




Definition at line 433 of file mshell.c.

References Mem\_\-Display(), memnod::mh\_\-next, and memnod::mh\_\-prev.

Referenced by mem\_\-free(), and mem\_\-realloc().\index{mshell.c@{mshell.c}!mem_realloc@{mem\_\-realloc}}
\index{mem_realloc@{mem\_\-realloc}!mshell.c@{mshell.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}void$\ast$ mem\_\-realloc (void $\ast$ {\em ptr}, size\_\-t {\em size}, char $\ast$ {\em fil}, int {\em lin})}\label{mshell_8c_a15}




Definition at line 167 of file mshell.c.

References CLIENT\_\-2\_\-HDR, HDR\_\-2\_\-CLIENT, mem\_\-list\_\-add(), mem\_\-list\_\-delete(), mem\_\-size, Mem\_\-Tag\_\-Err, MEM\_\-WHERE, MEMTAG, memnod::mh\_\-file, memnod::mh\_\-line, memnod::mh\_\-size, memnod::mh\_\-tag, realloc, and RESERVE\_\-SIZE.\index{mshell.c@{mshell.c}!mem_strdup@{mem\_\-strdup}}
\index{mem_strdup@{mem\_\-strdup}!mshell.c@{mshell.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}char$\ast$ mem\_\-strdup (char $\ast$ {\em str}, char $\ast$ {\em fil}, int {\em lin})}\label{mshell_8c_a16}




Definition at line 241 of file mshell.c.

References mem\_\-alloc(), and MEM\_\-WHERE.\index{mshell.c@{mshell.c}!mem_tag_err@{mem\_\-tag\_\-err}}
\index{mem_tag_err@{mem\_\-tag\_\-err}!mshell.c@{mshell.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}void mem\_\-tag\_\-err (void $\ast$, char $\ast$, int)\hspace{0.3cm}{\tt  [static]}}\label{mshell_8c_a11}




Definition at line 463 of file mshell.c.

References Mem\_\-Display().\index{mshell.c@{mshell.c}!Mem_Used@{Mem\_\-Used}}
\index{Mem_Used@{Mem\_\-Used}!mshell.c@{mshell.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}unsigned long Mem\_\-Used (void)}\label{mshell_8c_a18}




Definition at line 341 of file mshell.c.

References mem\_\-size.

\subsection{Variable Documentation}
\index{mshell.c@{mshell.c}!mem_size@{mem\_\-size}}
\index{mem_size@{mem\_\-size}!mshell.c@{mshell.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}unsigned long mem\_\-size = 0\hspace{0.3cm}{\tt  [static]}}\label{mshell_8c_a9}




Definition at line 77 of file mshell.c.

Referenced by mem\_\-alloc(), Mem\_\-Display(), mem\_\-free(), mem\_\-realloc(), and Mem\_\-Used().\index{mshell.c@{mshell.c}!memlist@{memlist}}
\index{memlist@{memlist}!mshell.c@{mshell.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}{\bf MEMHDR}$\ast$ memlist = NULL\hspace{0.3cm}{\tt  [static]}}\label{mshell_8c_a10}




Definition at line 79 of file mshell.c.