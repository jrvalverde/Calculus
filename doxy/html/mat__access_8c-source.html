<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>mat_access.c Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.2.18 -->
<center>
<a class="qindex" href="index.html">Main Page</a> &nbsp; <a class="qindex" href="modules.html">Modules</a> &nbsp; <a class="qindex" href="annotated.html">Data Structures</a> &nbsp; <a class="qindex" href="files.html">File List</a> &nbsp; <a class="qindex" href="functions.html">Data Fields</a> &nbsp; <a class="qindex" href="globals.html">Globals</a> &nbsp; <a class="qindex" href="pages.html">Related Pages</a> &nbsp; </center>
<hr><h1>mat_access.c</h1><a href="mat__access_8c.html">Go to the documentation of this file.</a><div class="fragment"><pre>00001 <span class="comment">/**</span>
00002 <span class="comment"> *  @file   mat_access.c</span>
00003 <span class="comment"> *</span>
00004 <span class="comment"> *  @brief  Routines to access matrix elements and various bits of data</span>
00005 <span class="comment"> *</span>
00006 <span class="comment"> *  This module hids the matrix implementation by providing various ways</span>
00007 <span class="comment"> *  to query and obtain data from a matrix data object. While you may</span>
00008 <span class="comment"> *  access some data structure fields directly, it is strongly advised </span>
00009 <span class="comment"> *  that you don't and that all accesses to internal or descriptive data</span>
00010 <span class="comment"> *  be done through the interfaces included in this module. This way,</span>
00011 <span class="comment"> *  should the implementation change, your program won't break.</span>
00012 <span class="comment"> *</span>
00013 <span class="comment"> *  For all purposes, a matrix is a bi-dimensional object that is composed</span>
00014 <span class="comment"> *  of 'real' numbers arranged in rows and columns. A matrix M&lt;sub&gt;m·n&lt;/sub&gt;</span>
00015 <span class="comment"> *  has m rows and n columns. You may query de data stored either individually</span>
00016 <span class="comment"> *  (indexed by row and column), arranged as rows (a uni-dimensional C vector</span>
00017 <span class="comment"> *  or array with offset at one --1), or as a whole bi-dimensional C array</span>
00018 <span class="comment"> *  with offsets at one --1)</span>
00019 <span class="comment"> *</span>
00020 <span class="comment"> *  @note   It is important to notice that offsets in matrices all start at </span>
00021 <span class="comment"> *          one unlike conventional C arrays. This is intentionally done to</span>
00022 <span class="comment"> *          comply with the standard mathematical convention and ease use</span>
00023 <span class="comment"> *          and translation of mathematical methods.</span>
00024 <span class="comment"> *</span>
00025 <span class="comment"> *  @note   In previous (v1) implementations, matrix elements were stored</span>
00026 <span class="comment"> *          at zero-offset fr maximal compatibility with C, but this proved</span>
00027 <span class="comment"> *          conceptually more cumbersome to extend and more difficult to </span>
00028 <span class="comment"> *          implement and debug.</span>
00029 <span class="comment"> *</span>
00030 <span class="comment"> *  @pre    matrix.h</span>
00031 <span class="comment"> *</span>
00032 <span class="comment"> *  @see    matrix.h for a general introduction to matrices</span>
00033 <span class="comment"> *</span>
00034 <span class="comment"> *  @see    mat_housekeep.c to learn how to create/destroy matrices</span>
00035 <span class="comment"> *          before using this module.</span>
00036 <span class="comment"> *</span>
00037 <span class="comment"> *  @see    mat_init.c to learn how you can assign initial values to</span>
00038 <span class="comment"> *          a matrix or its elements.</span>
00039 <span class="comment"> *</span>
00040 <span class="comment"> *  @author José Ramón Valverde Carrillo    (jrvalverde@acm.org)</span>
00041 <span class="comment"> *</span>
00042 <span class="comment"> *  @version    3.0</span>
00043 <span class="comment"> *</span>
00044 <span class="comment"> *  @date   23 - february - 2004    v3.0</span>
00045 <span class="comment"> *</span>
00046 <span class="comment"> *  @date   11 - february - 2004    v2.0</span>
00047 <span class="comment"> *</span>
00048 <span class="comment"> *  @date    1 - october - 1988     Last modification of v1.0</span>
00049 <span class="comment"> *</span>
00050 <span class="comment"> *      COPYRIGHT:</span>
00051 <span class="comment"> *          © YoEgo.    Since I have no cash, I can't</span>
00052 <span class="comment"> *      register this (nor do I believe I should). So</span>
00053 <span class="comment"> *      this module is left in the PUBLIC DOMAIN.</span>
00054 <span class="comment"> *          It is furthermore forbidden its use for</span>
00055 <span class="comment"> *      commercial purposes unless I get a share on</span>
00056 <span class="comment"> *      the profits.</span>
00057 <span class="comment"> *          I say.</span>
00058 <span class="comment"> *                                              YoEgo.</span>
00059 <span class="comment"> *</span>
00060 <span class="comment"> * $Id$</span>
00061 <span class="comment"> * $Log$</span>
00062 <span class="comment"> */</span>
00063 
00064 
00065 
00066 <span class="preprocessor">#include &lt;stdio.h&gt;</span>
00067 <span class="preprocessor">#include &lt;math.h&gt;</span>
00068 <span class="preprocessor">#include &lt;stdlib.h&gt;</span>
00069 <span class="preprocessor">#include &lt;bits/nan.h&gt;</span>
00070 
00071 <span class="preprocessor">#include "<a class="code" href="portable_8h.html">portable.h</a>"</span>
00072 <span class="preprocessor">#include "<a class="code" href="matrix_8h.html">matrix.h</a>"</span>
00073 
00074 
00075 <span class="comment">/*-------------------------------------------------------------------*/</span>
00076 <span class="comment">/*                          MATRIX ACCESS                            */</span>
00077 <span class="comment">/*-------------------------------------------------------------------*/</span>
00078 <span class="comment"></span>
00079 <span class="comment">/** @defgroup matrix_access</span>
00080 <span class="comment"> *  @{</span>
00081 <span class="comment"> */</span>
00082 <span class="comment"></span>
00083 <span class="comment">/** </span>
00084 <span class="comment"> * @brief return number of rows of a matrix</span>
00085 <span class="comment"> *</span>
00086 <span class="comment"> * @param mat a matrix allocated by mat_alloc() whose row order we want to know</span>
00087 <span class="comment"> * @return  the number of rows of the matrix</span>
00088 <span class="comment"> */</span>
<a name="l00089"></a><a class="code" href="mat__access_8c.html#a0">00089</a> <span class="keyword">public</span> <span class="keywordtype">int</span> <a class="code" href="mat__access_8c.html#a0">mat_rows</a>(<a class="code" href="structmatrix.html">matrix</a> mat)
00090 {
00091     <span class="keywordflow">return</span> mat-&gt;<a class="code" href="structmatrix.html#m0">rows</a>;
00092 }
00093 <span class="comment"></span>
00094 <span class="comment">/**</span>
00095 <span class="comment"> * @brief return number of columns of a matrix</span>
00096 <span class="comment"> *</span>
00097 <span class="comment"> * @param mat a matrix allocated by mat_alloc() whose column dimension we want to know</span>
00098 <span class="comment"> * @return  the number of columns of the matrix</span>
00099 <span class="comment"> */</span>
<a name="l00100"></a><a class="code" href="mat__access_8c.html#a1">00100</a> <span class="keyword">public</span> <span class="keywordtype">int</span> <a class="code" href="mat__access_8c.html#a1">mat_cols</a>(<a class="code" href="structmatrix.html">matrix</a> mat)
00101 {
00102     <span class="keywordflow">return</span> mat-&gt;<a class="code" href="structmatrix.html#m1">cols</a>;
00103 }
00104 
00105 <span class="comment"></span>
00106 <span class="comment">/**</span>
00107 <span class="comment"> *  @brief return a (handy) pointer to the table of values of a matrix</span>
00108 <span class="comment"> *</span>
00109 <span class="comment"> *  @param mat the matrix whose value table we want to access</span>
00110 <span class="comment"> *  @return a 2D table with the values of the matrix arranged by rows</span>
00111 <span class="comment"> *          and columns.</span>
00112 <span class="comment"> */</span>
<a name="l00113"></a><a class="code" href="mat__access_8c.html#a2">00113</a> <span class="keyword">public</span> <a class="code" href="matrix_8h.html#a5">real</a> **<a class="code" href="mat__access_8c.html#a2">mat_values</a>(<a class="code" href="structmatrix.html">matrix</a> mat)
00114 {
00115     <span class="keywordflow">return</span> mat-&gt;<a class="code" href="structmatrix.html#m2">values</a>;
00116 }
00117 <span class="comment"></span>
00118 <span class="comment">/**</span>
00119 <span class="comment"> *  @brief   return a row of a matrix</span>
00120 <span class="comment"> *</span>
00121 <span class="comment"> *  This function returns a pointer to the values of the specified row</span>
00122 <span class="comment"> *  R&lt;sub&gt;i&lt;/sub&gt;(mat)</span>
00123 <span class="comment"> *</span>
00124 <span class="comment"> *  @param mat          a matrix allocated by mat_alloc</span>
00125 <span class="comment"> *  @param row_number   the index of the row to return</span>
00126 <span class="comment"> *  @return             a pointer to an array [1..dim] containing the row values</span>
00127 <span class="comment"> */</span>
<a name="l00128"></a><a class="code" href="mat__access_8c.html#a3">00128</a> <span class="keyword">public</span> <a class="code" href="matrix_8h.html#a5">real</a> *<a class="code" href="mat__access_8c.html#a3">mat_row</a>(<a class="code" href="structmatrix.html">matrix</a> mat, <span class="keywordtype">int</span> row_number)
00129 {
00130 <span class="preprocessor">#   ifdef MAT_PARANOIA</span>
00131 <span class="preprocessor"></span>    <span class="keywordflow">if</span> (row_number &gt; mat-&gt;<a class="code" href="structmatrix.html#m0">rows</a>)
00132 
00133 <span class="preprocessor">#   endif</span>
00134 <span class="preprocessor"></span>    <span class="keywordflow">return</span> mat-&gt;<a class="code" href="structmatrix.html#m2">values</a>[row_number];
00135 }
00136 
00137 <span class="comment"></span>
00138 <span class="comment">/**</span>
00139 <span class="comment"> *  @fn public real mat_element(matrix mat, int row, int col)</span>
00140 <span class="comment"> *</span>
00141 <span class="comment"> *  @brief return value of matrix element mat[row][col]</span>
00142 <span class="comment"> *</span>
00143 <span class="comment"> *  @param mat  the matrix whose value we want to set</span>
00144 <span class="comment"> *  @param row  value row offset</span>
00145 <span class="comment"> *  @param col  value column offset</span>
00146 <span class="comment"> *</span>
00147 <span class="comment"> *  @return the value of the element.</span>
00148 <span class="comment"> *</span>
00149 <span class="comment"> *  @note if MAT_PARANOIA is defined, extra bound checking is</span>
00150 <span class="comment"> *      performed and IEEE NaN returned on error.</span>
00151 <span class="comment"> */</span>
<a name="l00152"></a><a class="code" href="mat__access_8c.html#a4">00152</a> <span class="keyword">public</span> <a class="code" href="matrix_8h.html#a5">real</a> <a class="code" href="mat__access_8c.html#a4">mat_element</a>(<a class="code" href="structmatrix.html">matrix</a> mat, <span class="keywordtype">int</span> row, <span class="keywordtype">int</span> col)
00153 {
00154 <span class="preprocessor">#   ifdef MAT_PARANOIA</span>
00155 <span class="preprocessor"></span>    <span class="comment">/* check bounds */</span>
00156     <span class="keywordflow">if</span> ((row &lt;= 0) || (row &gt; mat-&gt;<a class="code" href="structmatrix.html#m0">rows</a>) || (col &lt;= 0) || (col &gt; mat-&gt;<a class="code" href="structmatrix.html#m1">cols</a>))
00157         <span class="comment">/* IEEE Not A Number */</span>
00158         <span class="keywordflow">return</span> NAN;
00159 <span class="preprocessor">#   endif</span>
00160 <span class="preprocessor"></span>
00161     <span class="keywordflow">return</span> mat-&gt;<a class="code" href="structmatrix.html#m2">values</a>[row][col];
00162 }
00163 <span class="comment"></span>
00164 <span class="comment">/** @} */</span>
00165 
</pre></div><hr><address style="align: right;"><small>Generated on Fri Mar 5 19:26:48 2004 for MATRIXCALCULUS by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border=0 
width=110 height=53></a>1.2.18 </small></address>
</body>
</html>
